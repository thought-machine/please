<html>
  <head>
    <title>{{ .Title }}</title>
    <link rel="stylesheet" type="text/css" href="styles.css">
    <script src="action.js"></script>
    {{ if eq .Filename "faq.html" }}
    <link rel="stylesheet" type="text/css" href="asciinema-player.css" />
    <script src="asciinema-player.js"></script>
    {{ end }}
  </head>
  <body>
    <div class="above">
    <div class="left">
        <div class="logo">
          <h1><a href="index.html"><img src="images/please_build_p.png"></a></h1>
        </div>
        {{ if eq .Filename "index.html" }}
        <div class="index-graphic">
          <p class="menu-blurb"><span class="cyan">Please</span> is a cross-language build system
            with an emphasis on high performance, extensibility and reproducibility.</p>
        </div>
        {{ else }}
        <div class="menu-graphic">
          <p><img src="images/{{shape 2}}_v.png"></p>
        </div>
        {{ end }}
        <nav class="menu">
          <p><a href="#">&#x2630; Navigation</a></p>
          <ul>
            <li{{menuItem "quickstart"}}><a href="quickstart.html">Getting Started</a></li>
            <li{{menuItem "basics"}}><a href="basics.html">Documentation</a>
              <ul>
                <li{{menuItem "basics"}}><a href="basics.html">Basic concepts</a></li>
                <li{{menuItem "dependencies"}}><a href="dependencies.html">Third-party dependencies</a></li>
                <li{{menuItem "cross_compiling"}}><a href="cross_compiling.html">Cross-compiling</a></li>
                <li{{menuItem "cache"}}><a href="cache.html">Caching</a></li>
              </ul>
            </li>
            <li{{menuItem "language"}}><a href="language.html">The BUILD language</a></li>
            <li{{menuItem "lexicon"}}><a href="lexicon.html">BUILD Rule Lexicon</a>
              {{ if eq .Filename "lexicon.html" }}
              <ul>
                <li><a href="lexicon.html#builtins">Builtin rules & functions</a></li>
                <li><a href="lexicon.html#cc">C++ rules</a></li>
                <li><a href="lexicon.html#go">Go rules</a></li>
                <li><a href="lexicon.html#java">Java rules</a></li>
                <li><a href="lexicon.html#misc">Miscellaneous rules</a></li>
                <li><a href="lexicon.html#proto">Protobuf rules</a></li>
                <li><a href="lexicon.html#python">Python rules</a></li>
                <li><a href="lexicon.html#sh">Shell rules</a></li>
                <li><a href="lexicon.html#subrepo">Subrepo rules</a></li>
              </ul>
              {{ end }}
            </li>
            <li{{menuItem "reference"}}><a href="reference.html">Reference</a>
              {{ if matches .Filename "reference.html" "config.html" "commands.html" "build_rules.html" "workers.html" "post_build.html" "verification.html" "require_provide.html" "tests.html" }}
              <ul>
                <li{{menuItem "config"}}><a href="config.html">Config options</a></li>
                <li{{menuItem "commands"}}><a href="commands.html">Commands</a></li>
                <li{{menuItem "build_rules"}}><a href="build_rules.html">Build rules</a></li>
                <li{{menuItem "tests"}}><a href="tests.html">Testing with Please</a></li>
                <li{{menuItem "verification"}}><a href="verification.html">Hashes and licences</a></li>
                <li{{menuItem "workers"}}><a href="workers.html">Persistent workers</a></li>
                <li{{menuItem "post_build"}}><a href="post_build.html">Post-build functions</a></li>
                <li{{menuItem "require_provide"}}><a href="require_provide.html">Require & Provide</a></li>
              </ul>
              {{ end }}
            </li>
            <li{{menuItem "pleasings"}}><a href="pleasings.html">Extra rules</a></li>
            <li{{menuItem "faq"}}><a href="faq.html">FAQ</a></li>
            <li><a href="https://github.com/thought-machine/please">Browse the source</a></li>
          </ul>
        </nav>
    </div>
    <div class="right">
      <div class="header">
      {{ if eq .Filename "index.html" }}
        <div class="idximg1"><img src="images/triangle_c.png"></div>
        <div class="idximg2"><img src="images/circle_y.png"></div>
        <div class="idximg3"><img src="images/pentagon_v.png"></div>
        <div class="idximg4"><img src="images/square_g.png"></div>
        <div class="idximg5"><img src="images/pentagon_r.png"></div>
        <div class="idximg-spacer"></div>

      {{ else }}
        <div class="hdrimg1"><img src="images/{{shape 4}}_{{colour 7}}.png" class="{{rotate 5}}"></div>
        <div class="hdrimg2"><img src="images/{{shape 5}}_{{colour 8}}.png" class="{{rotate 6}}"></div>
        <div class="sideimg">
        {{ range .SideImages }}
          <img src="images/{{shape .}}_{{colour .}}.png" class="{{rotate .}}"
               style="width: {{random . 140 240}}px; right: {{random . -60 10}}px; top: {{randomoffset . 0 50 100 }}%;">
        {{ end }}
        </div>
      {{ end }}
      </div>
      <div class="body">
      {{ .Contents }}
      </div>
    </div>
    </div>

    {{ if eq .Filename "index.html" }}
    <div class="index-stripe">
      <img src="images/hexagon_r.png">
      <img src="images/triangle_g.png">
      <img src="images/circle_y.png">
      <p><span class="white">Want Please?</span> Get started:</p>
      <p>&nbsp;</p>
      <p><span class="button"><a href="quickstart.html">Yes Please</a></span></p>
    </div>
    {{ end }}

    <footer>
      <div>
        <div class="lockup">
          <img src="images/lockup2.png">
        </div>
      </div>
      <div>
        <div>
          <a href="index.html"><img src="images/please_build_t.png"></a>
        </div>
        <div>
          <p><a href="https://github.com/thought-machine/please">GitHub</a><br/>
             <a href="https://gitter.im/please-build/Lobby">Chat on Gitter</a><br/>
             <a href="https://groups.google.com/forum/#!forum/please-build">Discussion group</a></p>
        </div>
        <div>
          <p><a href="acknowledgements.html">Acknowledgements</a><br/>
            Documentation licensed under
            <a href="https://creativecommons.org/licenses/by/4.0/">CC-BY-4.0</a></p>
        </div>
      </div>
      <div>
        <div>
          <a href="https://www.thoughtmachine.net"><img src="images/thoughtmachine.png"></a>
        </div>
        <div>
          <p>&nbsp;&copy; 2019 Thought Machine<br/>
            &nbsp;A Creation of <a href="https://www.thoughtmachine.net"><span class="white">Thought Machine</span></a></p>
        </div>
      </div>
    </footer>

  </body>
</html>
