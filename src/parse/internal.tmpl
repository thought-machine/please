remote_file(
    name = "arcat",
    url = f"https://github.com/please-build/arcat/releases/download/v1.1.2/arcat-1.1.2-{CONFIG.HOSTOS}_{CONFIG.HOSTARCH}",
    out = "arcat",
    binary = True,
    hashes = [
        "73b94a1dcbe7f4dde982ba295320a5cc75648dea299773b47ca1fa37507df2ec", # darwin_amd64
        "cd2bc0651806d960acb9356af93fe43641aadce9b41783f501f291bc099a94ec", # darwin_arm64
        "e0530fcd57c5e889c923cb522c877c1750cd98b8a1a6c108c1539777011c42dc", # freebsd_amd64
        "117091138e0aa7263e7962d110542ed6d14c14a0b534acd2ae1f44bc61dc28c2", # linux_amd64
        "979f1e73857fc3bb1f9dd7ff9800c2d2c3ba8df8ef0cb0eb81ffa0ea93bf44ad", # linux_arm64
    ],
    visibility = ["PUBLIC"],
)

remote_file(
    name = "download",
    url = f"{{ .ToolsURL }}",
    extract = True,
)

{{ range $tool := .Tools }}
genrule(
    name = "{{$tool}}".removesuffix(".jar"),
    cmd = f"mv $SRC/{{$tool}} $OUT",
    srcs = [":download"],
    outs = ["{{$tool}}"],
    visibility = ["PUBLIC"],
    binary = True,
)
{{ end }}
