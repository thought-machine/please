remote_file(
    name = "arcat",
    url = f"https://github.com/please-build/arcat/releases/download/v1.0.3/arcat-1.0.3-{CONFIG.HOSTOS}_{CONFIG.HOSTARCH}",
    out = "arcat",
    binary = True,
    hashes = [
        "6884628652cdf62e980ca9444f806164f6b3f3759f0bcd0a8abb1c1b0b756806", # darwin_amd64
        "0835ea496c9dbb4f9b652b0ce9dbc4806f7d9f83c4af019be41acea71f1d0693", # darwin_arm64
        "f876fb46f88a9970e91b3e504f40cb3edf09471df54791b5390b73a467396f20", # freebsd_amd64
        "aff4f2db4354eb0ba01c34232fe2f978c9d5a073a0cd3a3af5d499e05e23723d", # linux_amd64
        "2cf9f5d6b95d57e8c7710adc6a72af69645bc5cabf46ad6deee5f504e45a012c", # linux_arm64
    ],
    visibility = ["PUBLIC"],
)

remote_file(
    name = "download",
    url = f"{{ .ToolsURL }}",
    extract = True,
)

{{ range $tool := .Tools }}
genrule(
    name = "{{$tool}}".removesuffix(".jar"),
    cmd = f"mv $SRC/{{$tool}} $OUT",
    srcs = [":download"],
    outs = ["{{$tool}}"],
    visibility = ["PUBLIC"],
    binary = True,
)
{{ end }}
