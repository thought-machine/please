remote_file(
    name = "arcat",
    url = f"https://github.com/please-build/arcat/releases/download/v1.2.0/arcat-1.2.0-{CONFIG.HOSTOS}_{CONFIG.HOSTARCH}",
    out = "arcat",
    binary = True,
    hashes = [
        "d10c553f40a41cdb46e557c1e78715c2a6553a7b2545d65d5c316b83db76c642", # darwin_amd64
        "a5e80db04c65fabe7692b1a819da5cccf5433efe548993975d501c3b2e4f8a64", # darwin_arm64
        "21601b47312c45dfd72810b57b1f7c26d5aa03776a9a64a4783cc9a238c27c84", # freebsd_amd64
        "36df2f5ec786fdabf3f09392b16d7fa8d4444d796b2f65913ef6a1bba4bfc9cd", # linux_amd64
        "fbc112555403176cf4b38e8310c27792c77acb0a68328b69843cc8d820203d2d", # linux_arm64
    ],
    visibility = ["PUBLIC"],
)

remote_file(
    name = "download",
    url = f"{{ .ToolsURL }}",
    extract = True,
)

{{ range $tool := .Tools }}
genrule(
    name = "{{$tool}}".removesuffix(".jar"),
    cmd = f"mv $SRC/{{$tool}} $OUT",
    srcs = [":download"],
    outs = ["{{$tool}}"],
    visibility = ["PUBLIC"],
    binary = True,
)
{{ end }}
